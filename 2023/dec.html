

<!DOCTYPE html>


<html lang="en" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>December 2023 &#8212; My research log</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=ac02cc09edc035673794" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=ac02cc09edc035673794" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.1.2/css/all.min.css?digest=ac02cc09edc035673794" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.1.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" href="../_static/styles/sphinx-book-theme.css?digest=14f4ca6b54d191a8c7657f6c759bf11a5fb86285" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.4045f2051d55cab465a707391d5b2007.min.css" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794" />
  <script src="../_static/vendor/fontawesome/6.1.2/js/all.min.js?digest=ac02cc09edc035673794"></script>

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?digest=5a5c038af52cf7bc1a1ec88eea08e6366ee68824"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../_static/togglebutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../_static/design-tabs.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = '2023/dec';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Install pueoBuilder" href="../software/pueoSim_installation.html" />
    <link rel="prev" title="November 2023" href="nov.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>

  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <nav class="bd-header navbar navbar-expand-lg bd-navbar">
    </nav>
  
  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    <p class="title logo__title">My research log</p>
  
</a></div>
        <div class="sidebar-primary-item"><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../index.html">
                    Welcome
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Year 2024</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../2024/jan.html">January 2024</a></li>
<li class="toctree-l1"><a class="reference internal" href="../2024/feb.html">February 2024</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Year 2023</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="oct.html">October 2023</a></li>
<li class="toctree-l1"><a class="reference internal" href="nov.html">November 2023</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">December 2023</a></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Software</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../software/pueoSim_installation.html">Install pueoBuilder</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/setting_up_github_ssh.html">How to Set up Github credentials on Linux/macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../software/ssh_autopassword.html">How to: Password-less ssh</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../software/learning_root/my_first_root_plot.html">Learning ROOT</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../software/learning_root/RDataFrame.html">Learning RDataFrame</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/learning_root/Retrieving_TVector3.html">Retrieving TVector3 From a Tree</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/learning_root/TChain.html">Using TChain to combine files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../software/learning_root/TTreeReader.html">Using TTreeReader vs RDataFrame</a></li>
</ul>
</li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Pueo White Paper Reading Questions</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="../pueo_white/ch1.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pueo_white/ch2.html">The PUEO Science Program</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pueo_white/ch3.html">The Radio Detection Technique</a></li>
<li class="toctree-l1"><a class="reference internal" href="../pueo_white/ch4.html">Review of Results from ANITA</a></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-source-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Source repositories">
    <i class="fab fa-github"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="https://github.com/unmovingcastle/log" target="_blank"
   class="btn btn-sm btn-source-repository-button dropdown-item"
   title="Source repository"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fab fa-github"></i>
  </span>
<span class="btn__text-container">Repository</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/unmovingcastle/log/edit/main/pueo_log/2023/dec.md" target="_blank"
   class="btn btn-sm btn-source-edit-button dropdown-item"
   title="Suggest edit"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-pencil-alt"></i>
  </span>
<span class="btn__text-container">Suggest edit</span>
</a>
</li>
      
      
      
      
      <li><a href="https://github.com/unmovingcastle/log/issues/new?title=Issue%20on%20page%20%2F2023/dec.html&body=Your%20issue%20content%20here." target="_blank"
   class="btn btn-sm btn-source-issues-button dropdown-item"
   title="Open an issue"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-lightbulb"></i>
  </span>
<span class="btn__text-container">Open issue</span>
</a>
</li>
      
  </ul>
</div>






<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/2023/dec.md" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.md</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>

<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>December 2023</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#meeting-with-kaeli-wednesday-dec-13">Meeting with Kaeli, Wednesday Dec. 13</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-passed-electron-neutrinos-at-lower-energy">More passed electron neutrinos at lower energy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lpm-effect">LPM effect</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effective-volume">Effective Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tasks">tasks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-awk-to-collect-effective-volumes">Using <code class="docutils literal notranslate"><span class="pre">awk</span></code> to collect effective volumes</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article" role="main">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="december-2023">
<h1>December 2023<a class="headerlink" href="#december-2023" title="Permalink to this heading">#</a></h1>
<section id="meeting-with-kaeli-wednesday-dec-13">
<h2>Meeting with Kaeli, Wednesday Dec. 13<a class="headerlink" href="#meeting-with-kaeli-wednesday-dec-13" title="Permalink to this heading">#</a></h2>
<section id="more-passed-electron-neutrinos-at-lower-energy">
<h3>More passed electron neutrinos at lower energy<a class="headerlink" href="#more-passed-electron-neutrinos-at-lower-energy" title="Permalink to this heading">#</a></h3>
<p>Consider the flavor plots below (bin 1 is <span class="math notranslate nohighlight">\(\nu_e\)</span>).</p>
<figure class="align-default" id="dec23-flavor-e19-png">
<img alt="../_images/flavor_e=19.png" src="../_images/flavor_e=19.png" />
<figcaption>
<p><span class="caption-number">Fig. 3 </span><span class="caption-text">Flavor Histogram (energy=19)</span><a class="headerlink" href="#dec23-flavor-e19-png" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="dec23-flavor-e20-png">
<img alt="../_images/flavor_e=20.png" src="../_images/flavor_e=20.png" />
<figcaption>
<p><span class="caption-number">Fig. 4 </span><span class="caption-text">Flavor Histogram (energy=20)</span><a class="headerlink" href="#dec23-flavor-e20-png" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<figure class="align-default" id="dec23-flavor-e21-png">
<img alt="../_images/flavor_e=21.png" src="../_images/flavor_e=21.png" />
<figcaption>
<p><span class="caption-number">Fig. 5 </span><span class="caption-text">Flavor Histogram (energy=21)</span><a class="headerlink" href="#dec23-flavor-e21-png" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<ul class="simple">
<li><p>We can see that at lower energies, more electron neutrinos are detected.
Recall the following interactions:
<span class="math notranslate nohighlight">\( \nu_l + N \rightarrow l + X \)</span><br />
<span class="math notranslate nohighlight">\( \nu_l + N \rightarrow \nu_l + N^* \)</span><br />
where <span class="math notranslate nohighlight">\(N\)</span> stands for nucleon (ice).</p></li>
<li><p>If <span class="math notranslate nohighlight">\(\nu_l\)</span> above is an electron neutrino, then <span class="math notranslate nohighlight">\(l=e^-\)</span>, and the electron’s energy
gets immediately deposited in the ice, right where the interaction occurs and we
essentially see just a bigger <span class="math notranslate nohighlight">\(X\)</span> (EM shower).
(Think of ice as a soup of electrons, which interact with each other through EM forces)</p></li>
<li><p>On the other hand, if <span class="math notranslate nohighlight">\(\nu\)</span> above is a <span class="math notranslate nohighlight">\(\tau\)</span>-neutrino, then the interaction produces
a <span class="math notranslate nohighlight">\(\tau\)</span>, which does not typically deposit its energy in ice; instead, the <span class="math notranslate nohighlight">\(\tau\)</span> decays
later as it travels in air, and we might be able to see this decay through geomagnetic
emission (aka secondaries). But this is of course not the same situation as the
electronic interaction, and because in this case the <span class="math notranslate nohighlight">\(\tau\)</span> takes away some energy,
the corresponding <span class="math notranslate nohighlight">\(X\)</span> (EM shower) is less energetic, making it less likely to be detected.</p></li>
</ul>
<hr class="docutils" />
</section>
<section id="lpm-effect">
<span id="id1"></span><h3>LPM effect<a class="headerlink" href="#lpm-effect" title="Permalink to this heading">#</a></h3>
<ul class="simple">
<li><p>At high energies, we also see that electron neutrinos gets suppressed. This is due to
the <strong>LPM effect</strong>, here are some
<a class="reference external" href="https://bpb-us-w2.wpmucdn.com/u.osu.edu/dist/0/890/files/2013/12/LPM-Effect-10f7n7w.pdf">slides</a></p></li>
</ul>
</section>
<section id="effective-volume">
<h3>Effective Volume<a class="headerlink" href="#effective-volume" title="Permalink to this heading">#</a></h3>
<ul>
<li><p><span class="math notranslate nohighlight">\( {\rm effective\; volume} = {\rm some\; volume} \cdot {\rm efficiency} \)</span><br />
where “some volume” above for us is pretty much the entire Antarctica continent.</p></li>
<li><p>However, the “efficiency” for us is around a fraction of a percent:<br />
<span class="math notranslate nohighlight">\( {\rm efficiency} = \frac{\rm weighted \; passed\; \nu}{\rm thrown\; \nu} \)</span></p></li>
<li><p>In the end, PUEO’s effective volume is around 10 - 1000 km<sup>3</sup>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>One can find effective volume in the source code (<code class="docutils literal notranslate"><span class="pre">report.cc</span></code>?) or in the output of
a simulation.</p>
</div>
</li>
</ul>
<ul class="simple" id="loosely-effective-area">
<li><p>By the way, we cut some corners and define the effective area loosely as<br />
Effective Area <span class="math notranslate nohighlight">\(\equiv\)</span> Effective Volume / Interaction Length<br />
where interaction length can be found in the source code.</p></li>
</ul>
</section>
<section id="tasks">
<h3>tasks<a class="headerlink" href="#tasks" title="Permalink to this heading">#</a></h3>
<ul class="contains-task-list simple">
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Carry out the <span class="math notranslate nohighlight">\(e=18\)</span> run.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Read about LPM effect</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> For inelasticity plots, try 100 bins instead of 1000.</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" checked="checked" disabled="disabled" type="checkbox"> Make an effective volume plot</p></li>
<li class="task-list-item"><p><input class="task-list-item-checkbox" disabled="disabled" type="checkbox"> Make an effective area plot</p></li>
</ul>
</section>
</section>
<section id="using-awk-to-collect-effective-volumes">
<h2>Using <code class="docutils literal notranslate"><span class="pre">awk</span></code> to collect effective volumes<a class="headerlink" href="#using-awk-to-collect-effective-volumes" title="Permalink to this heading">#</a></h2>
<p>I splitted the energy <code class="docutils literal notranslate"><span class="pre">e=21</span></code> simulation into 100 slurm array jobs.
As an example, job No. 37 would return</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
37.out<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>.
.
.
~~~~~<span class="w"> </span>Summary<span class="w"> </span><span class="k">for</span><span class="w"> </span>electron<span class="w"> </span>neutrinos<span class="w">  </span>~~~~~~~~~~~~~~~<span class="w"> </span>
<span class="w">	</span>Number<span class="w"> </span>simulated:<span class="w"> </span><span class="m">34</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>unweighted<span class="o">)</span>:<span class="w"> </span><span class="m">18</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>weighted<span class="o">)</span>:<span class="w"> </span><span class="m">0</span>.000764247987475
<span class="w">	</span>Effective<span class="w"> </span>volume:<span class="w"> </span><span class="m">6957</span>.09761591<span class="w"> </span>km^3<span class="w"> </span>sr
<span class="w">	</span>Effective<span class="w"> </span>area:<span class="w"> </span><span class="m">49</span>.2280142537<span class="w"> </span>km^2<span class="w"> </span>sr


~~~~~<span class="w"> </span>Summary<span class="w"> </span><span class="k">for</span><span class="w"> </span>mu<span class="w"> </span>neutrinos<span class="w">  </span>~~~~~~~~~~~~~~~<span class="w"> </span>
<span class="w">	</span>Number<span class="w"> </span>simulated:<span class="w"> </span><span class="m">34</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>unweighted<span class="o">)</span>:<span class="w"> </span><span class="m">12</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>weighted<span class="o">)</span>:<span class="w"> </span><span class="m">0</span>.00709997645226
<span class="w">	</span>Effective<span class="w"> </span>volume:<span class="w"> </span><span class="m">64632</span>.462314<span class="w"> </span>km^3<span class="w"> </span>sr
<span class="w">	</span>Effective<span class="w"> </span>area:<span class="w"> </span><span class="m">457</span>.335508528<span class="w"> </span>km^2<span class="w"> </span>sr


~~~~~<span class="w"> </span>Summary<span class="w"> </span><span class="k">for</span><span class="w"> </span>tau<span class="w"> </span>neutrinos<span class="w">  </span>~~~~~~~~~~~~~~~<span class="w"> </span>
<span class="w">	</span>Number<span class="w"> </span>simulated:<span class="w"> </span><span class="m">32</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>unweighted<span class="o">)</span>:<span class="w"> </span><span class="m">17</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>weighted<span class="o">)</span>:<span class="w"> </span><span class="m">0</span>.00204211856722
<span class="w">	</span>Effective<span class="w"> </span>volume:<span class="w"> </span><span class="m">19751</span>.6638595<span class="w"> </span>km^3<span class="w"> </span>sr
<span class="w">	</span>Effective<span class="w"> </span>area:<span class="w"> </span><span class="m">139</span>.761613778<span class="w"> </span>km^2<span class="w"> </span>sr


~~~~~<span class="w"> </span>Summary<span class="w"> </span><span class="k">for</span><span class="w"> </span>all<span class="w"> </span>neutrinos<span class="w">  </span>~~~~~~~~~~~~~~~<span class="w"> </span>
<span class="w">	</span>Number<span class="w"> </span>simulated:<span class="w"> </span><span class="m">100</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>unweighted<span class="o">)</span>:<span class="w"> </span><span class="m">47</span>
<span class="w">	</span>Number<span class="w"> </span>passed<span class="w"> </span><span class="o">(</span>weighted<span class="o">)</span>:<span class="w"> </span><span class="m">0</span>.00990634300695
<span class="w">	</span>Effective<span class="w"> </span>volume:<span class="w"> </span><span class="m">30660</span>.9828112<span class="w"> </span>km^3<span class="w"> </span>sr
<span class="w">	</span>Effective<span class="w"> </span>area:<span class="w"> </span><span class="m">216</span>.955314155<span class="w"> </span>km^2<span class="w"> </span>sr

got<span class="w"> </span>here
finished<span class="w"> </span>simulation
Elapsed<span class="w"> </span>runtime<span class="w"> </span>is<span class="w"> </span><span class="m">1</span>:8<span class="w"> </span>minutes<span class="sb">`</span>
</pre></div>
</div>
</div>
</details><p>when it is completed (the output above only contains the final lines).</p>
<hr class="docutils" />
<p>We can use <code class="docutils literal notranslate"><span class="pre">awk</span></code> to extract the information of interest; in this case, we would like to
have a script that spits out the Effective volume for all neutrinos (call it “total effective
volume”). In the example above,
this would be the line</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Effective</span> <span class="n">volume</span><span class="p">:</span> <span class="mf">30660.9828112</span> <span class="n">km</span><span class="o">^</span><span class="mi">3</span> <span class="n">sr</span>
</pre></div>
</div>
<p>Below is the script I used for looping over all 100 output files contained inside an <code class="docutils literal notranslate"><span class="pre">out/</span></code>
directory which stores all slurm outputs.
The script returns a text file called <code class="docutils literal notranslate"><span class="pre">volumes.out</span></code> that contains all the 100 “total effective
volumes” for the 100 jobs of an <code class="docutils literal notranslate"><span class="pre">e=21</span></code> simulation.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
evol.bash<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

rm<span class="w"> </span>volumes.out<span class="w"> </span><span class="c1"># remove if already exists.</span>

<span class="c1"># loop through all files in the directory &quot;out&quot; using a wildcard *</span>
<span class="k">for</span><span class="w"> </span>file<span class="w"> </span><span class="k">in</span><span class="w"> </span>out/*
<span class="k">do</span>
<span class="w">     </span><span class="c1"># Matching all lines that contains the word </span>
<span class="w">     </span><span class="c1"># &quot;Effective volume:&quot;, get the 3rd column of the line</span>
<span class="w">  </span>awk<span class="w"> </span><span class="s1">&#39;/Effective volume:/  {print $3}&#39;</span><span class="w"> </span><span class="nv">$file</span><span class="w">  </span><span class="p">|</span><span class="w"> </span>tail<span class="w"> </span>-n<span class="w"> </span><span class="m">1</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>volumes.out
<span class="w">   </span><span class="c1"># awk will spit out four lines. we only need the last (tail) line.</span>

<span class="w">  </span><span class="c1"># the following line is for debugging only. It will also display the</span>
<span class="w">  </span><span class="c1"># file name along with the effective volume.</span>
<span class="w">  </span><span class="c1"># awk &#39;/Effective volume:/ {print FILENAME, $3}&#39; $file  | tail -n 1</span>
<span class="k">done</span>
</pre></div>
</div>
</div>
</details><hr class="docutils" />
<p>Below is a second version of the script above. This one utilizes GNU Awk.</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
evol_v2.bash<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="ch">#!/bin/bash</span>

<span class="c1"># Note: gawk is GNU Awk, which is used because it has the &quot;ENDFILE&quot; check</span>
<span class="c1">#       which, for instance, macOS Awk does not have.</span>
<span class="c1">#       Note that using ENDFILE is not the same as using END</span>

rm<span class="w"> </span>volumes.out

<span class="c1"># find Effective volume line, assign it to variable a. This happens 4 times</span>
gawk<span class="w"> </span><span class="s1">&#39;/Effective volume:/  {a=$3} </span>
<span class="s1">      ENDFILE{print a}&#39;</span><span class="w"> </span>out/*.out<span class="w"> </span>&gt;&gt;<span class="w"> </span>volumes.out
<span class="c1"># However, only when we reach the end of an input file do we print out &quot;a&quot;;</span>
<span class="c1"># thus, only the final match will be printed (like using &gt;&gt; tail -n 1)</span>
</pre></div>
</div>
</div>
</details><p>I tested this second version on OSC. It turns out to be around 8 times faster than version
one.</p>
<hr class="docutils" />
<p id="average-effective-volume-version1">Presumably we would then take an average of the 100 entries of <code class="docutils literal notranslate"><span class="pre">volumes.out</span></code> to get the
averaged all-neutrino Effective volume. This can be done using Pandas in python:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">title</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;all-neutrino effective volume&#39;</span><span class="p">]</span>
<span class="n">df_21</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;21_volumes.out&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_20</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;20_volumes.out&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_19</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;19_volumes.out&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">df_18</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;18_volumes.out&#39;</span><span class="p">,</span> <span class="n">names</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="c1"># index_col=Flase forces pandas to not use the first column as index column and creates an</span>
<span class="c1"># index column starting from 0.</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span> <span class="p">[</span><span class="mi">18</span><span class="p">,</span> <span class="n">df_18</span><span class="o">.</span><span class="n">mean</span><span class="p">()],</span> <span class="p">[</span><span class="mi">19</span><span class="p">,</span> <span class="n">df_19</span><span class="o">.</span><span class="n">mean</span><span class="p">()],</span>
                    <span class="p">[</span><span class="mi">20</span><span class="p">,</span> <span class="n">df_20</span><span class="o">.</span><span class="n">mean</span><span class="p">()],</span> <span class="p">[</span><span class="mi">21</span><span class="p">,</span> <span class="n">df_21</span><span class="o">.</span><span class="n">mean</span><span class="p">()]</span> <span class="p">],</span>
                  <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span><span class="s1">&#39;effective volume&#39;</span><span class="p">])</span>


<span class="n">plot</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="s1">&#39;energy&#39;</span><span class="p">,</span><span class="n">y</span><span class="o">=</span><span class="s1">&#39;effective volume&#39;</span><span class="p">,</span><span class="n">c</span><span class="o">=</span><span class="s1">&#39;DarkBlue&#39;</span><span class="p">)</span>
<span class="n">plot</span><span class="o">.</span><span class="n">get_figure</span><span class="p">()</span><span class="o">.</span><span class="n">savefig</span><span class="p">(</span><span class="s1">&#39;effective_volume.png&#39;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;png&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>The result is given in <a class="reference internal" href="#effective-volume-estimate-jan19"><span class="std std-numref">Table 3</span></a>.</p>
<table class="table" id="effective-volume-estimate-jan19">
<caption><span class="caption-number">Table 3 </span><span class="caption-text">Effective Volume Estimate</span><a class="headerlink" href="#effective-volume-estimate-jan19" title="Permalink to this table">#</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Energy [eV]</p></th>
<th class="head"><p>Effective Volume [km<span class="math notranslate nohighlight">\(^3\)</span> sr]</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>18</p></td>
<td><p>44.843654</p></td>
</tr>
<tr class="row-odd"><td><p>19</p></td>
<td><p>2553.348809</p></td>
</tr>
<tr class="row-even"><td><p>20</p></td>
<td><p>13122.487126</p></td>
</tr>
<tr class="row-odd"><td><p>21</p></td>
<td><p>24129.468761</p></td>
</tr>
</tbody>
</table>
<figure class="align-default" id="dec2023eff-vol-plot">
<img alt="../_images/effective_volume.png" src="../_images/effective_volume.png" />
<figcaption>
<p><span class="caption-number">Fig. 6 </span><span class="caption-text">An example effective volume plot</span><a class="headerlink" href="#dec2023eff-vol-plot" title="Permalink to this image">#</a></p>
</figcaption>
</figure>
<p><strong>Jan 19 Update:</strong><br />
Note that this is only an estimate of the effective volume.
See <a class="reference internal" href="../2024/jan.html#effective-volume-proper-average"><span class="std std-ref">the January 2024 entry</span></a>
for the proper way to find the average effective volume.</p>
</section>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./2023"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  <!-- Previous / next buttons -->
<div class="prev-next-area">
    <a class="left-prev"
       href="nov.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">November 2023</p>
      </div>
    </a>
    <a class="right-next"
       href="../software/pueoSim_installation.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Install pueoBuilder</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">

  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#meeting-with-kaeli-wednesday-dec-13">Meeting with Kaeli, Wednesday Dec. 13</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#more-passed-electron-neutrinos-at-lower-energy">More passed electron neutrinos at lower energy</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#lpm-effect">LPM effect</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#effective-volume">Effective Volume</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tasks">tasks</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#using-awk-to-collect-effective-volumes">Using <code class="docutils literal notranslate"><span class="pre">awk</span></code> to collect effective volumes</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Jason Yao
</p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=ac02cc09edc035673794"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=ac02cc09edc035673794"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>